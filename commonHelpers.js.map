{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function searchImages(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '44012525-f6ee3715003c9db0af32c6494',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","function imageTemplate(image) {\n  return `\n\t<a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n\t\t<img \n\t\t\tclass=\"gallery-image\" \n\t\t\tsrc=\"${image.webformatURL}\" \n\t\t\talt=\"${image.tags}\" \n\t\t\t/>\n      <ul class=\"img-details-box\">\n      <li class=\"detail-item\"><b>Likes:</b> ${image.likes}</li>\n      <li class=\"detail-item\"><b>Views:</b> ${image.views}</li>\n      <li class=\"detail-item\"><b>Comments:</b> ${image.comments}</li>\n      <li class=\"detail-item\"><b>Downloads:</b> ${image.downloads}</li></ul>\n      </a>`;\n}\n\nexport function imagesTemplate(arr) {\n  return arr.map(imageTemplate).join('');\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { searchImages } from './js/pixabay-api';\nimport { imagesTemplate } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.images-container');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n  gallery.innerHTML = '';\n  showLoader();\n\n  const query = e.target.elements.query.value.trim();\n  if (!query) {\n    iziToast.error({\n      message: 'Search field is empty',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  searchImages(query)\n    .then(data => {\n      if (data?.hits?.length) {\n        const markup = imagesTemplate(data.hits);\n        gallery.innerHTML = markup;\n        e.target.reset();\n        return;\n      }\n      throw Error(\n        'Sorry, there are no images matching your search query. Please try again!'\n      );\n    })\n    .catch(err => {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again',\n        position: 'topRight',\n      });\n    });\n});\n\nfunction showLoader() {\n  loader.style.display = 'inline-block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n"],"names":["searchImages","query","BASE_URL","params","url","res","imageTemplate","image","imagesTemplate","arr","form","gallery","loader","e","showLoader","iziToast","data","_a","markup","err"],"mappings":"svBAAO,SAASA,EAAaC,EAAO,CAClC,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CClBA,SAASC,EAAcC,EAAO,CAC5B,MAAO;AAAA,iCACwBA,EAAM,aAAa;AAAA;AAAA;AAAA,UAG1CA,EAAM,YAAY;AAAA,UAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,8CAG0BA,EAAM,KAAK;AAAA,8CACXA,EAAM,KAAK;AAAA,iDACRA,EAAM,QAAQ;AAAA,kDACbA,EAAM,SAAS;AAAA,WAEjE,CAEO,SAASC,EAAeC,EAAK,CAClC,OAAOA,EAAI,IAAIH,CAAa,EAAE,KAAK,EAAE,CACvC,CCTA,MAAMI,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,mBAAmB,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CF,EAAK,iBAAiB,SAAUG,GAAK,CACnCA,EAAE,eAAc,EAChBF,EAAQ,UAAY,GACpBG,IAEA,MAAMb,EAAQY,EAAE,OAAO,SAAS,MAAM,MAAM,OAC5C,GAAI,CAACZ,EAAO,CACVc,EAAS,MAAM,CACb,QAAS,wBACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDf,EAAaC,CAAK,EACf,KAAKe,GAAQ,OACZ,IAAIC,EAAAD,GAAA,YAAAA,EAAM,OAAN,MAAAC,EAAY,OAAQ,CACtB,MAAMC,EAASV,EAAeQ,EAAK,IAAI,EACvCL,EAAQ,UAAYO,EACpBL,EAAE,OAAO,QACT,MACD,CACD,MAAM,MACJ,0EACR,CACA,CAAK,EACA,MAAMM,GAAO,CACZJ,EAAS,MAAM,CACb,QACE,0EACF,SAAU,UAClB,CAAO,CACP,CAAK,CACL,CAAC,EAED,SAASD,GAAa,CACpBF,EAAO,MAAM,QAAU,cACzB"}