{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(query) {\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '44012525-f6ee3715003c9db0af32c6494',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  });\n\n  const url = `${BASE_URL}?${params}`;\n\n  return fetch(url).then(res => {\n    if (!res.ok) {\n      throw new Error(res.status);\n    }\n    return res.json();\n  });\n}\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.images-container');\n\nlet lightbox;\n\nfunction imageTemplate(image) {\n  return `<li class=\"gallery-item\">\n    <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n      <img \n        class=\"gallery-image\" \n        src=\"${image.webformatURL}\" \n        alt=\"${image.tags}\" \n      />\n    </a>\n    <div class=\"img-details-box\">\n      <p class=\"detail-item\"><b class=\"detail-title\">Likes:</b> ${image.likes}</p>\n      <p class=\"detail-item\"><b class=\"detail-title\">Views:</b> ${image.views}</p>\n      <p class=\"detail-item\"><b class=\"detail-title\">Comments:</b> ${image.comments}</p>\n      <p class=\"detail-item\"><b class=\"detail-title\">Downloads:</b> ${image.downloads}</p>\n    </div>\n    </li>\n  `;\n}\n\nfunction imagesTemplate(arr) {\n  return arr.map(imageTemplate).join('');\n}\n\nexport function renderImages(images) {\n  const markup = imagesTemplate(images);\n  gallery.insertAdjacentHTML('beforeend', markup);\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.images-container a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n","import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImages } from './js/pixabay-api';\nimport { renderImages } from './js/render-functions';\n\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.images-container');\nconst loader = document.querySelector('.loader');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n\n  gallery.innerHTML = '';\n\n  showLoader();\n\n  const query = e.target.elements.query.value.trim();\n\n  if (!query) {\n    iziToast.error({\n      message: 'Search field is empty',\n      position: 'topRight',\n    });\n\n    hideLoader();\n    return;\n  }\n\n  getImages(query)\n    .then(data => {\n      if (data && data.hits && data.hits.length) {\n        renderImages(data.hits);\n      } else {\n        throw Error(\n          'Sorry, there are no images matching your search query. Please try again!'\n        );\n      }\n    })\n    .catch(error => {\n      iziToast.error({\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n\n  form.reset();\n}\n\nfunction showLoader() {\n  loader.style.display = 'inline-block';\n}\n\nfunction hideLoader() {\n  loader.style.display = 'none';\n}\n"],"names":["getImages","query","BASE_URL","params","url","res","gallery","lightbox","imageTemplate","image","imagesTemplate","arr","renderImages","images","markup","SimpleLightbox","form","loader","handleSubmit","e","showLoader","iziToast","hideLoader","data","error"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAC/B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EAEKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAEjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAO,CAC5B,GAAI,CAACA,EAAI,GACP,MAAM,IAAI,MAAMA,EAAI,MAAM,EAE5B,OAAOA,EAAI,MACf,CAAG,CACH,CCfA,MAAMC,EAAU,SAAS,cAAc,mBAAmB,EAE1D,IAAIC,EAEJ,SAASC,EAAcC,EAAO,CAC5B,MAAO;AAAA,oCAC2BA,EAAM,aAAa;AAAA;AAAA;AAAA,eAGxCA,EAAM,YAAY;AAAA,eAClBA,EAAM,IAAI;AAAA;AAAA;AAAA;AAAA,kEAIyCA,EAAM,KAAK;AAAA,kEACXA,EAAM,KAAK;AAAA,qEACRA,EAAM,QAAQ;AAAA,sEACbA,EAAM,SAAS;AAAA;AAAA;AAAA,GAIrF,CAEA,SAASC,EAAeC,EAAK,CAC3B,OAAOA,EAAI,IAAIH,CAAa,EAAE,KAAK,EAAE,CACvC,CAEO,SAASI,EAAaC,EAAQ,CACnC,MAAMC,EAASJ,EAAeG,CAAM,EACpCP,EAAQ,mBAAmB,YAAaQ,CAAM,EACzCP,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIQ,EAAe,sBAAuB,CACnD,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CCnCA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCV,EAAU,SAAS,cAAc,mBAAmB,EACpDW,EAAS,SAAS,cAAc,SAAS,EAE/CD,EAAK,iBAAiB,SAAUE,CAAY,EAE5C,SAASA,EAAaC,EAAG,CACvBA,EAAE,eAAc,EAEhBb,EAAQ,UAAY,GAEpBc,IAEA,MAAMnB,EAAQkB,EAAE,OAAO,SAAS,MAAM,MAAM,OAE5C,GAAI,CAAClB,EAAO,CACVoB,EAAS,MAAM,CACb,QAAS,wBACT,SAAU,UAChB,CAAK,EAEDC,IACA,MACD,CAEDtB,EAAUC,CAAK,EACZ,KAAKsB,GAAQ,CACZ,GAAIA,GAAQA,EAAK,MAAQA,EAAK,KAAK,OACjCX,EAAaW,EAAK,IAAI,MAEtB,OAAM,MACJ,0EACV,CAEA,CAAK,EACA,MAAMC,GAAS,CACdH,EAAS,MAAM,CACb,QACE,2EACF,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbC,GACN,CAAK,EAEHN,EAAK,MAAK,CACZ,CAEA,SAASI,GAAa,CACpBH,EAAO,MAAM,QAAU,cACzB,CAEA,SAASK,GAAa,CACpBL,EAAO,MAAM,QAAU,MACzB"}